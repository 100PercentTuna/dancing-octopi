/* ========================================
   BASE RESET & TYPOGRAPHY
   ======================================== */

/* Box sizing reset */
*, *::before, *::after { box-sizing: border-box; }

/* Smooth scrolling */
html { scroll-behavior: smooth; }
html, body { height: 100%; }

/* Subtle background gradient for all pages */
body {
  background: 
    radial-gradient(2000px 1500px at 20% 10%, rgba(30,90,255,0.04), transparent 70%),
    radial-gradient(1800px 1400px at 80% 90%, rgba(125,107,93,0.04), transparent 70%),
    var(--bg);
  background-attachment: fixed;
  min-height: 100vh;
  margin: 0;
  color: var(--ink);
  font-family: var(--sans);
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  font-feature-settings: 'ss01' 1, 'cv02' 1, 'cv05' 1;
  font-optical-sizing: auto;
  line-height: 1.6;
  padding-top: var(--mastH);
}

/* Admin bar offset */
.admin-bar { --mastH: 132px; }
.admin-bar .mast { top: 32px; }
.admin-bar .progress { top: 32px; }
.admin-bar .actionDock { top: calc(132px + var(--space-4)); }
@media screen and (max-width: 782px) {
  .admin-bar { --mastH: 146px; }
  .admin-bar .mast { top: 46px; }
  .admin-bar .progress { top: 46px; }
}

/* Link and form defaults */
a { color: inherit; text-decoration: none; }
button, select, input { font: inherit; }
::selection { background: rgba(30,90,255,.18); }
img { max-width: 100%; height: auto; display: block; }

/* Font distribution */
body, .nameLine, .nav a, .subtitle, .dek, .jText, .mailWrap, footer, select, input, button { font-family: var(--sans); }
h2, .articleTitle { font-family: var(--sans); font-weight: 600; letter-spacing: -0.01em; }
.tTitle, .jTitle { font-family: var(--serif); font-weight: 600; letter-spacing: -0.01em; }
.count, .submeta, .meta, .jDate, .jTags, .topCounts, .articleMeta, .sectionNum, .chartCaption, .chartNote { font-family: var(--mono); }

/* ========================================
   SKIP LINKS (Accessibility)
   ======================================== */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: var(--blue);
  color: var(--bg);
  padding: 8px 16px;
  text-decoration: none;
  z-index: 10000;
  border-radius: 0 0 4px 0;
}

.skip-link:focus {
  top: 0;
  outline: 2px solid var(--blue);
  outline-offset: 2px;
}

/* Smooth theme transitions */
:root {
  transition: 
    background-color 300ms ease,
    color 300ms ease;
}

/* Opt-out for elements that shouldn't transition */
.no-theme-transition,
.chart-canvas,
.map-container,
img,
video {
  transition: none !important;
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  :root {
    transition: none;
  }
}

/* ========================================
   TITLE CASE FIXES
   ======================================== */
/* CRITICAL FIX: Force titles to display in their natural case */
.tTitle, .jTitle, 
.parallax-split-text h3,
.split-label,
.subscribe-section h3,
.subscribePanelContent h4 {
  text-transform: none !important;
}

/* EXPLICIT: Titles display exactly as typed by author */
.tTitle {
  text-transform: none !important;
  font-variant: normal !important;
  font-variant-caps: normal !important;
}

.jTitle {
  text-transform: none !important;
  font-variant: normal !important;
  font-variant-caps: normal !important;
}

h3.tTitle, h3.jTitle {
  text-transform: none !important;
}




